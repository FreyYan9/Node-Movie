extends ../layout
block content
    .container
        .row
            .panel.panel-default
                .panel-heading
                    h3 #{category.name}
                .panel-body
                    if movies && movies.length > 0
                        each item in movies
                            .col-md-2
                                .thumbnail
                                    a(href="/movie/#{item._id}",)
                                        img(src="#{item.poster}",alt="#{item.title}",style="width:150px;height:222px;")
                                    .caption
                                        h3(style="overflow: hidden;	white-space: nowrap;	text-overflow: ellipsis;", title="#{item.title}") #{item.title}
                                        p: a.btn.btn-primary.text-center(href="/movie/#{item._id}",role="button",style="width:130px;") ¹Û¿´


            nav(style="text-align:center;")
                ul.pagination
                    li
                        a(href="/results?cat=#{category._id}&pageIndex=#{pageIndex - 1}") &laquo;
                    - for(var i=0; i < totalCount; i++){
                    -   if(i==pageIndex){
                            li.active
                                a= i + 1
                    -   }else{
                            li
                                a(href="/results?cat=" + category._id + "&pageIndex=" + i + "")= i + 1
                    -   }
                    -}
                    li
                        a(href="/results?cat=#{category._id}&pageIndex=#{pageIndex + 1}") &raquo;